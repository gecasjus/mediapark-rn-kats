{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport { useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { loadingCats } from \"../redux/kats/kats.actions\";\nvar api = '96b63b1ceb234b1a94c8a75eb39ca062';\nexport var useName = function useName(kats) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      names = _useState2[0],\n      setName = _useState2[1];\n\n  var dispatch = useDispatch();\n  var CancelToken = axios.CancelToken;\n  var source = CancelToken.source();\n\n  var getNames = function getNames() {\n    return _regeneratorRuntime.async(function getNames$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get('https://randommer.io:80/api/Name?nameType=firstname&quantity=100', {\n              headers: {\n                'Access-Control-Allow-Headers': '96b63b1ceb234b1a94c8a75eb39ca062'\n              }\n            }).then(function (res) {\n              console.log(res);\n            }).catch(function (err) {\n              console.log('limited api requests');\n              console.log(err);\n            }));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  useEffect(function () {\n    dispatch(loadingCats());\n    getNames();\n    return function () {\n      source.cancel();\n    };\n  }, [dispatch]);\n  return {\n    names: names\n  };\n};","map":{"version":3,"sources":["/Users/Justas/Desktop/kats/hooks/useName.js"],"names":["useState","useEffect","useDispatch","axios","loadingCats","api","useName","kats","names","setName","dispatch","CancelToken","source","getNames","get","headers","then","res","console","log","catch","err","cancel"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAAQC,WAAR;AAIA,IAAIC,GAAG,GAAG,kCAAV;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AAAA,kBAEPP,QAAQ,CAAC,EAAD,CAFD;AAAA;AAAA,MAEzBQ,KAFyB;AAAA,MAElBC,OAFkB;;AAI9B,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;AAEA,MAAMS,WAAW,GAAGR,KAAK,CAACQ,WAA1B;AACA,MAAMC,MAAM,GAAGD,WAAW,CAACC,MAAZ,EAAf;;AAEF,MAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAETV,KAAK,CAACW,GAAN,CAAU,kEAAV,EAA8E;AACnFC,cAAAA,OAAO,EAAE;AAAE,gDAAgC;AAAlC;AAD0E,aAA9E,EAGLC,IAHK,CAGA,UAAAC,GAAG,EAAI;AACZC,cAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAMD,aAVM,EAWLG,KAXK,CAWC,UAACC,GAAD,EAAS;AAChBH,cAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACC,aAdK,CAFS;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAsBApB,EAAAA,SAAS,CAAC,YAAM;AACfS,IAAAA,QAAQ,CAACN,WAAW,EAAZ,CAAR;AACAS,IAAAA,QAAQ;AACP,WAAO,YAAM;AACRD,MAAAA,MAAM,CAACU,MAAP;AACH,KAFF;AAGD,GANQ,EAMN,CAACZ,QAAD,CANM,CAAT;AAOA,SAAO;AAACF,IAAAA,KAAK,EAALA;AAAD,GAAP;AACA,CAvCM","sourcesContent":["import {useState, useEffect} from 'react';\nimport { useDispatch } from \"react-redux\";\n\nimport axios from \"axios\";\n \nimport {loadingCats} from '../redux/kats/kats.actions'\n\n//https://api.fungenerators.com/name/generate?category=car&limit=100\n\nlet api = '96b63b1ceb234b1a94c8a75eb39ca062'\n\nexport const useName = (kats) => {\n\n\tconst [names, setName] = useState([])\n\n  \tconst dispatch = useDispatch();\n\n  \tconst CancelToken = axios.CancelToken;\n  \tconst source = CancelToken.source();\n\n\tconst getNames = async () => {\n\t\ttry {\n\t\t\tawait axios.get('https://randommer.io:80/api/Name?nameType=firstname&quantity=100', {\n    headers: { 'Access-Control-Allow-Headers': '96b63b1ceb234b1a94c8a75eb39ca062' }\n})\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\t// const katNames = res.data.contents.names\n\t\t\t\t// katNames.map(name => {\n\t\t\t\t// \tkats.push({cat: name}) \n\t\t\t\t// })\n\t\t\t\t// setName(katNames)\n\t\t})\n\t\t\t.catch((err) => {\n\t\t\tconsole.log('limited api requests')\n\t\t\tconsole.log(err)\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tthrow error\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdispatch(loadingCats());\n\t\tgetNames();\n\t\t\treturn () => {\n\t      \tsource.cancel();\n    };\n\t}, [dispatch])\n\treturn {names}\n}\n"]},"metadata":{},"sourceType":"module"}