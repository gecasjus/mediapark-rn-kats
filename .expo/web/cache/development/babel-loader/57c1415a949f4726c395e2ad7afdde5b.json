{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport axios from \"axios\";\nimport { v4 as uuidv4 } from 'uuid';\nimport receiveCats from \"./redux/kats/kats.actions\";\nimport { useDispatch } from \"react-redux\";\nexport var fetchCats = function fetchCats() {\n  var dispatch, catMap, maxItter, max, value, up;\n  return _regeneratorRuntime.async(function fetchCats$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          dispatch = useDispatch();\n          catMap = [];\n          maxItter = 100;\n          max = 16;\n          value = 0;\n          up = true;\n\n        case 6:\n          _context.prev = 6;\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(axios.get(\"http://placekitten.com/200/300?image=\" + value).then(function (res) {\n            console.log(res);\n\n            var cat = _extends({}, {\n              preview: res.config.url,\n              id: uuidv4()\n            });\n\n            catMap.push(cat);\n          }));\n\n        case 9:\n          maxItter--;\n\n          if (up == true && value <= max) {\n            value++;\n\n            if (value == max) {\n              up = false;\n            }\n          } else {\n            up = false;\n            value--;\n\n            if (value == 0) {\n              up = true;\n            }\n          }\n\n          _context.next = 17;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](6);\n          console.log(_context.t0);\n          throw _context.t0;\n\n        case 17:\n          if (maxItter > 0) {\n            _context.next = 6;\n            break;\n          }\n\n        case 18:\n          console.log(catMap);\n          dispatch(receiveCats(catMap));\n\n        case 20:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[6, 13]], Promise);\n};","map":{"version":3,"sources":["/Users/Justas/Desktop/kats/api.calls.js"],"names":["axios","v4","uuidv4","receiveCats","useDispatch","fetchCats","dispatch","catMap","maxItter","max","value","up","get","then","res","console","log","cat","preview","config","url","id","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,OAAOC,WAAP;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAEnBC,UAAAA,QAFmB,GAERF,WAAW,EAFH;AAInBG,UAAAA,MAJmB,GAIV,EAJU;AAKnBC,UAAAA,QALmB,GAKR,GALQ;AAQnBC,UAAAA,GARmB,GAQb,EARa;AASnBC,UAAAA,KATmB,GASX,CATW;AAUnBC,UAAAA,EAVmB,GAUd,IAVc;;AAAA;AAAA;AAAA;AAAA,2CAcjBX,KAAK,CAACY,GAAN,2CAAkDF,KAAlD,EACJG,IADI,CACC,UAAAC,GAAG,EAAI;AACZC,YAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACE,gBAAIG,GAAG,GAAG,SAAc,EAAd,EAAkB;AAChBC,cAAAA,OAAO,EAAEJ,GAAG,CAACK,MAAJ,CAAWC,GADJ;AAEhBC,cAAAA,EAAE,EAAEnB,MAAM;AAFM,aAAlB,CAAV;;AAKAK,YAAAA,MAAM,CAACe,IAAP,CAAYL,GAAZ;AACA,WATE,CAdiB;;AAAA;AAwBnBT,UAAAA,QAAQ;;AACR,cAAIG,EAAE,IAAI,IAAN,IAAcD,KAAK,IAAID,GAA3B,EAAgC;AAC/BC,YAAAA,KAAK;;AAEN,gBAAIA,KAAK,IAAID,GAAb,EAAkB;AAChBE,cAAAA,EAAE,GAAG,KAAL;AACD;AACF,WANC,MAMM;AACJA,YAAAA,EAAE,GAAG,KAAL;AACAD,YAAAA,KAAK;;AAEP,gBAAIA,KAAK,IAAI,CAAb,EAAgB;AACdC,cAAAA,EAAE,GAAG,IAAL;AACC;AACF;;AAtCkB;AAAA;;AAAA;AAAA;AAAA;AAyCnBI,UAAAA,OAAO,CAACC,GAAR;AAzCmB;;AAAA;AAAA,cA6ChBR,QAAQ,GAAG,CA7CK;AAAA;AAAA;AAAA;;AAAA;AA8CvBO,UAAAA,OAAO,CAACC,GAAR,CAAYT,MAAZ;AACAD,UAAAA,QAAQ,CAACH,WAAW,CAACI,MAAD,CAAZ,CAAR;;AA/CuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB","sourcesContent":["import axios from \"axios\";\nimport { v4 as uuidv4 } from 'uuid';\nimport receiveCats from './redux/kats/kats.actions'\nimport { useDispatch } from \"react-redux\";\n\nexport const fetchCats = async () => {\n\nconst dispatch = useDispatch();\n\n  let catMap = [];\n  let maxItter = 100;\n\n  //random images\n  let max = 16\n  let value = 0\n  let up = true\n\n  do {\n    try {\n  await axios.get(`http://placekitten.com/200/300?image=${value}`)\n   .then(res => {\n   \tconsole.log(res)\n      let cat = Object.assign({}, {\n                  preview: res.config.url,\n                  id: uuidv4(),\n              }\n        )\n      catMap.push(cat)\n     })\n      maxItter--\n      if (up == true && value <= max) {\n       value++\n\n      if (value == max) {\n        up = false;\n      }\n    }  else {\n        up = false\n        value--;\n\n      if (value == 0) {\n        up = true;\n        }\n      }\n      \n    } catch (error) {\n      console.log(error)\n      throw error;\n    }\n  }\n  while (maxItter > 0);\n  console.log(catMap)\n  dispatch(receiveCats(catMap))\n} "]},"metadata":{},"sourceType":"module"}