{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nexport var useName = function useName(kats) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      names = _useState2[0],\n      setName = _useState2[1];\n\n  var CancelToken = axios.CancelToken;\n  var source = CancelToken.source();\n\n  var getNames = function getNames() {\n    return _regeneratorRuntime.async(function getNames$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get('https://api.fungenerators.com/name/generate?category=car&limit=100', {\n              cancelToken: source.token\n            }).then(function (res) {\n              var katNames = res.data.contents.names;\n              katNames.map(function (name) {\n                kats.push({\n                  cat: name\n                });\n              });\n              setName(katNames);\n            }));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  useEffect(function () {\n    getNames();\n    return function () {\n      source.cancel();\n    };\n  }, []);\n  return {\n    names: names\n  };\n};","map":{"version":3,"sources":["/Users/Justas/Desktop/kats/hooks/useName.jsx"],"names":["useState","useEffect","axios","useName","kats","names","setName","CancelToken","source","getNames","get","cancelToken","token","then","res","katNames","data","contents","map","name","push","cat","cancel"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AAAA,kBAGPJ,QAAQ,CAAC,EAAD,CAHD;AAAA;AAAA,MAGzBK,KAHyB;AAAA,MAGlBC,OAHkB;;AAKhC,MAAMC,WAAW,GAAGL,KAAK,CAACK,WAA1B;AACE,MAAMC,MAAM,GAAGD,WAAW,CAACC,MAAZ,EAAf;;AAEF,MAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAETP,KAAK,CAACQ,GAAN,CAAU,oEAAV,EACN;AAAEC,cAAAA,WAAW,EAAEH,MAAM,CAACI;AAAtB,aADM,EAELC,IAFK,CAEA,UAAAC,GAAG,EAAI;AACZ,kBAAMC,QAAQ,GAAGD,GAAG,CAACE,IAAJ,CAASC,QAAT,CAAkBZ,KAAnC;AACAU,cAAAA,QAAQ,CAACG,GAAT,CAAa,UAAAC,IAAI,EAAI;AACpBf,gBAAAA,IAAI,CAACgB,IAAL,CAAU;AAACC,kBAAAA,GAAG,EAAEF;AAAN,iBAAV;AACA,eAFD;AAGAb,cAAAA,OAAO,CAACS,QAAD,CAAP;AACD,aARM,CAFS;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAgBAd,EAAAA,SAAS,CAAC,YAAM;AACfQ,IAAAA,QAAQ;AACR,WAAO,YAAM;AACTD,MAAAA,MAAM,CAACc,MAAP;AACD,KAFH;AAGA,GALQ,EAKN,EALM,CAAT;AAMA,SAAO;AAACjB,IAAAA,KAAK,EAALA;AAAD,GAAP;AACA,CA/BM","sourcesContent":["import {useState, useEffect} from 'react';\n\nimport axios from \"axios\";\n\nexport const useName = (kats) => {\n\n\n\tconst [names, setName] = useState([])\n\n\tconst CancelToken = axios.CancelToken;\n  \tconst source = CancelToken.source();\n\n\tconst getNames = async () => {\n\t\ttry {\n\t\t\tawait axios.get('https://api.fungenerators.com/name/generate?category=car&limit=100',\n\t\t\t{ cancelToken: source.token })\n\t\t\t.then(res => {\n\t\t\t\tconst katNames = res.data.contents.names\n\t\t\t\tkatNames.map(name => {\n\t\t\t\t\tkats.push({cat: name}) \n\t\t\t\t})\n\t\t\t\tsetName(katNames)\n\t\t})\n\t\t} catch (error) {\n\t\t\tthrow error\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetNames();\n\t\treturn () => {\n      source.cancel();\n    };\n\t}, [])\n\treturn {names}\n}"]},"metadata":{},"sourceType":"module"}